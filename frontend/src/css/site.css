/* src/css/site.css - GIAO DIỆN LIGHT THEME (HEADER GỘP) */

/* --- 1. CẤU HÌNH CHUNG & BIẾN MÀU --- */
:root {
    --primary-blue: #0044cc;
    /* Màu xanh chủ đạo của Logo */
    --dark-blue: #002a80;
    --accent-red: #d32f2f;
    --gold: #ffb700;
    --text-dark: #1e293b;
    --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text-dark);
    background-color: #f8faff;
    overflow-x: hidden;
}

/* --- 2. NAVBAR CUSTOM (GỘP HEADER) --- */
.navbar-custom {
    background: #ffffff !important;
    /* Nền trắng tuyệt đối */
    /* Tăng padding để thanh menu cao hơn, chứa vừa logo to */
    padding: 10px 0 !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    /* Tăng độ đậm shadow */
    transition: all 0.4s ease;
    position: relative;
    z-index: 1030;
    /* Tăng z-index cao hơn Bootstrap fixed (1030) */
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    text-align: left;
    /* Đảm bảo text không bị căn giữa do App.css */
}

/* Khi cuộn trang */
.navbar-scrolled {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    /* Có thể thu gọn padding một chút khi cuộn cho gọn, hoặc giữ nguyên */
    padding: 5px 0 !important;
}

/* Logo trong Navbar */
.navbar-brand img {
    height: 75px;
    /* Chiều cao logo mặc định (To rõ) */
    transition: all 0.3s ease;
    object-fit: contain;
}

/* Khi cuộn trang, logo thu nhỏ lại xíu cho tinh tế */
.navbar-scrolled .navbar-brand img {
    height: 60px;
}

/* --- LINK MENU (CHỮ XANH) --- */
.navbar-custom .nav-link {
    color: var(--primary-blue) !important;
    /* Chữ màu xanh theo Logo */
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.9rem;
    padding: 10px 15px !important;
    position: relative;
    transition: all 0.3s;
    cursor: pointer;
}

/* Hover & Active */
.navbar-custom .nav-link:hover,
.navbar-custom .nav-link.active {
    color: var(--accent-red) !important;
    /* Hover chuyển sang màu Đỏ */
    background-color: rgba(0, 68, 204, 0.04);
}

/* Hiệu ứng gạch chân đỏ */
.navbar-custom .nav-link::after {
    content: '';
    position: absolute;
    bottom: 5px;
    /* Đẩy gạch chân lên sát chữ hơn */
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 3px;
    background: var(--accent-red);
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 4px 4px 0 0;
}

.navbar-custom .nav-link:hover::after,
.navbar-custom .nav-link.active::after {
    width: 80%;
}

/* --- DROPDOWN MENU (DESKTOP) --- */
@media (min-width: 992px) {
    .dropdown-menu-custom {
        display: block;
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s ease;

        position: absolute;
        top: 100%;
        left: 0;
        min-width: 260px;
        /* Rộng hơn xíu */
        background: #ffffff;
        border: 1px solid rgba(0, 0, 0, 0.05);
        /* Thêm border nhẹ */
        border-top: 4px solid var(--accent-red);
        border-radius: 0 0 8px 8px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        /* Shadow đậm hơn */
        padding: 10px 0;
        z-index: 10000;
        /* Z-index cực cao */
    }

    .dropdown-menu-custom.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
}

/* --- MOBILE RESPONSIVE --- */
@media (max-width: 991px) {
    .navbar-custom {
        padding: 10px 0 !important;
    }

    /* Logo mobile nhỏ hơn chút cho vừa màn hình */
    .navbar-brand img {
        height: 50px !important;
    }

    .navbar-collapse {
        background: #ffffff;
        margin-top: 15px;
        padding: 0;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .navbar-custom .nav-link {
        padding: 15px 25px !important;
        border-bottom: 1px solid #f0f0f0;
        color: var(--text-dark) !important;
    }

    .navbar-custom .nav-link:hover,
    .navbar-custom .nav-link.active {
        color: var(--primary-blue) !important;
        background-color: #f8faff;
        padding-left: 30px !important;
    }

    .navbar-custom .nav-link::after {
        display: none;
    }

    /* Dropdown Mobile */
    .dropdown-menu-custom {
        background-color: #f8f9fa !important;
        box-shadow: none !important;
        border: none !important;
        margin: 0 !important;
        display: none;
        position: static !important;
        width: 100%;
        transform: none !important;
    }

    .dropdown-menu-custom.show {
        display: block;
    }

    .dropdown-item {
        color: #555 !important;
        padding: 12px 20px 12px 50px !important;
        border-left: 3px solid transparent;
    }

    .dropdown-item:hover {
        color: var(--primary-blue) !important;
        background: transparent !important;
        border-left: 3px solid var(--primary-blue);
        font-weight: 600;
    }
}

/* --- ITEM DROPDOWN CHUNG --- */
.dropdown-item {
    padding: 10px 25px;
    font-weight: 500;
    transition: all 0.2s;
    color: var(--text-dark);
}

.dropdown-item:hover {
    background: #f0f7ff;
    color: var(--primary-blue);
    padding-left: 30px;
    font-weight: 600;
}

/* --- BACK TO TOP --- */
.back-to-top-btn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: var(--primary-blue);
    color: white;
    width: 45px;
    height: 45px;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.back-to-top-btn.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.back-to-top-btn:hover {
    background: var(--accent-red);
    transform: translateY(-5px);
}

/* Fix lỗi dấu chấm dropdown của Bootstrap */
.navbar-custom .dropdown-toggle::after {
    border: none !important;
    margin-left: 0 !important;
    vertical-align: unset !important;
    content: '' !important;
}

/* Footer border */
footer {
    border-top: 1px solid #eaeaea;
    background-color: #fff;
    margin-top: auto;
}

/* --- FIX CONFLICT: TAILWIND vs BOOTSTRAP --- */
/* Tailwind's .collapse class sets visibility: collapse, hiding Bootstrap's navbar */
/* We only want to override visibility, NOT display. Bootstrap handles display (none/block/flex). */
.navbar-collapse.collapse {
    visibility: visible !important;
}

.navbar-collapse.collapse.show {
    visibility: visible !important;
}

.navbar-collapse.collapsing {
    visibility: visible !important;
}